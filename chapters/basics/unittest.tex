% !TeX root = ../../pythonTutorial.tex
\section{Unit Test}
\label{unittest:sec:UnitTest}
Zum Testen unter Python gibt es ein eigenes Modul.
Dieses wurde in Anlehnung an JUnit aus Java erstellt.
Ziel ist es, dem Programmierer zu ermöglichen kleine Wiederholbare Tests zu schreiben.
Mit diesen Testfällen lässt sich Programmcode auf Intergrations- und Operationsebene testen.


\subsection{Beispieltest}
\label{unittest:sec:BeispielTest}

Zum Einstieg in das Thema Testen, zunächst ein kleines Beispiel einer Testklasse.
\lstinputlisting[language=Python, label={unittest:lst:BeispielTest}]{chapters/basics/src/unittest/simpleTest.py}

Um einen Test zu erstellen muss die Klasse in der die Testfälle definiert werden sollen von \lstinline$unittest.TestCase$ ableiten.
Hierfür muss zuvor das Testframework \lstinline$unittest$ importiert werden.
Anschließend können die einzelnen Testmethoden einleitend mit der Bezeichnung \textit{test} definiert werden.
Die einzelnen Testfälle werden parallel und ohne Reihenfolge abgearbeitet.
Zusätzlich zu den einzelnen Testfällen existieren noch zwei weitere Methoden zu Ablaufsteuerung.
Die Methode \lstinline$setUp()$ sowie die Methode \lstinline$tearDown$.
Diese beide Methoden erlauben das ausführen von Code vor und nach jeder einzelnen Testmethode.
Dies ermöglicht bestimmte Variablen beziehungsweise Testzusammenstellungen vor jedem Test zu instantiieren.


\subsection{Ausführen von Testzusammenstellungen}
\label{unittest:sec:AusfuehrenVonTestzusammenstellungen}
Die erstellten Tests können nicht so ohne weiteres auf der Konsole ausgeführt werden.
Um das Testen zu starten ist es notwendig Python über den Parameter \lstinline$-m unittest$ aufzurufen.
Dies ist erforderlich um das Modul Unittest im Skriptmodus zu starten.
Im Anschluss folgt des zu testende Subjekt.
Dieses kann entweder mehrere Module, eine Klasse oder eine einzelne Methode sein.
Ebenfalls möglich ist es den Pfad zu Pythondatei anzugeben.
Hierbei werden natürlich nur die Testfälle in der Datei ausgeführt.

\begin{lstlisting}[label=unittest:lst:AusfuehrenVonTestzusammenstellungen,language=bash]
python -m unittest test_module1 test_module2
python -m unittest test_module.TestClass
python -m unittest test_module.TestClass.test_method
python -m unittest tests/test_something.py
\end{lstlisting}

Empfehlenswert ist des Weiteren noch der Parameter \lstinline$-v$ da dieser dafür sorgt das die erfüllten Tests angezeigt werden.
Weitere Parameter hierzu können der Python Doku \cite{pythondoku}.
Alternativ kann durch den Parameter \lstinline{-h} eine Liste der Parametern auf der Konsole ausgegeben werden.




